<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Write Quote</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    height:100vh;
    background:url("homepageimg.jpg") center/cover no-repeat;
    font-family: Arial, sans-serif;
}

/* HEADER */
.header{
    position:fixed;
    top:20px;
    left:30px;
}
.logo{
    display:flex;
    align-items:center;
    gap:12px;
}
.pic{
    width:45px;
    height:45px;
    border-radius:50%;
}
h1{
    font-size:28px;
    color:#5a2d2d;
    font-weight:normal;
}

/* CENTER AREA */
.write{
    height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    gap:20px;
}

/* ‚úÖ PERFECT PARCHMENT */
textarea{
    width:360px;
    height:460px;

    background:url("page.jpeg") center/cover no-repeat;

    border:none;
    border-radius:14px;
    outline:none;
    resize:none;

    /* üî• SAFE TEXT AREA (IMPORTANT) */
    padding:110px 30px 100px;

    font-size:16px;
    line-height:1.7;
    text-align:center;
    color:#2b1b12;

    /* üîí TEXT SAFETY */
    box-sizing:border-box;
    overflow-y:auto;
    word-break:break-word;
    white-space:normal;
}

/* REMOVE ugly scrollbar (optional) */
textarea::-webkit-scrollbar{
    width:0;
}

/* BUTTON */
button{
    padding:14px 40px;
    font-size:18px;
    background:#2b2b2b;
    color:white;
    border:none;
    border-radius:8px;
    cursor:pointer;
}
button:hover{
    background:#000;
}
</style>
</head>

<body>

<header class="header">
    <div class="logo">
        <img src="mylogo.jpg" class="pic">
        <h1>Daily Lines</h1>
    </div>
</header>

<div class="write">
    <textarea id="quoteText" placeholder="Write something..."></textarea>
    <button onclick="publishText()">Publish</button>
</div>

<script>
function publishText(){
    const token = sessionStorage.getItem("token");
    const text = document.getElementById("quoteText").value.trim();

    if(!token){
        alert("Login first!");
        location.href="login.html";
        return;
    }
    if(!text){
        alert("Write something ‚úçÔ∏è");
        return;
    }

    fetch("http://localhost:3000/add-quote",{
        method:"POST",
        headers:{
            "Content-Type":"application/json",
            "x-session-token":token
        },
        body:JSON.stringify({text})
    })
    .then(()=> {
        alert("Quote published ‚úÖ");
        location.href="homepage.html";
    })
    .catch(()=> alert("Server error ‚ùå"));
}
</script>

</body>
</html>
